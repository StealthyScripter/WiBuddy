<div class="calendar-day-detail-container">
  <button (click)="goBack()" class="back-button">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="15 18 9 12 15 6"></polyline>
    </svg>
    Back to Calendar
  </button>

  <div class="detail-header">
    <div>
      <h1 class="detail-title">
        {{ selectedDate | date:'fullDate' }}
      </h1>
      <p class="detail-subtitle">{{ tasks.length + events.length }} items scheduled</p>
    </div>
  </div>

  <!-- Tasks Section -->
  @if (tasks.length > 0) {
    <div class="section-card">
      <h2 class="section-title">Tasks</h2>
      <div class="tasks-list">
        @for (task of tasks; track task) {
          <div
            (click)="navigateToTask(task.id)"
            class="task-item">
            <div class="task-header">
              <h3 class="task-name">{{ task.name }}</h3>
              <span class="task-status" [ngClass]="task.isCompleted ? 'status-completed' : 'status-pending'">
                {{ task.isCompleted ? 'Completed' : 'Pending' }}
              </span>
            </div>
            @if (task.description) {
              <p class="task-description">{{ task.description }}</p>
            }
          </div>
        }
      </div>
    </div>
  }

  <!-- Events Section -->
  @if (events.length > 0) {
    <div class="section-card">
      <h2 class="section-title">Events</h2>
      <div class="events-list">
        @for (event of events; track event) {
          <div
            class="event-item"
            [style.--event-color]="event.color">
            <div class="event-header">
              <h3 class="event-name">{{ event.name }}</h3>
              <span class="event-time">{{ event.date | date:'shortTime' }}</span>
            </div>
            @if (event.description) {
              <p class="event-description">{{ event.description }}</p>
            }
          </div>
        }
      </div>
    </div>
  }

  <!-- Empty State -->
  @if (tasks.length === 0 && events.length === 0) {
    <div
      class="empty-state">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="empty-state-icon">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
      <p class="empty-state-text">No tasks or events scheduled for this day</p>
    </div>
  }
</div>
