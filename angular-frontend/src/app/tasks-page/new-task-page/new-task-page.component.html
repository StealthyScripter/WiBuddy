<div class="container">
  <main class="content">
    <h1>Create New Task</h1>
    <p class="subtitle">Fill in the details below to create a new task</p>

    <form [formGroup]="taskForm" (ngSubmit)="onSubmit()" class="task-form">

      <!-- Task Name -->
      <div class="form-group">
        <label for="taskName">Task Name</label>
        <input id="taskName" type="text" formControlName="taskName" placeholder="Enter task name" class="form-control">
        <small *ngIf="taskForm.get('taskName')?.touched && taskForm.get('taskName')?.invalid" class="error">
          Task Name is required
        </small>
      </div>

      <!-- Description -->
      <div class="form-group">
        <label for="description">Description</label>
        <textarea id="description" formControlName="description" placeholder="Enter task description" rows="4" class="form-control"></textarea>
        <small *ngIf="taskForm.get('description')?.touched && taskForm.get('description')?.invalid" class="error">
          Description is required
        </small>
      </div>

      <!-- Due Date & Duration -->
      <div class="form-row">
        <div class="form-group half-width">
          <label for="dueDate">Due Date</label>
          <input id="dueDate" type="text" formControlName="dueDate" placeholder="mm/dd/yyyy" class="form-control">
          <small *ngIf="taskForm.get('dueDate')?.touched && taskForm.get('dueDate')?.invalid" class="error">
            Due Date is required
          </small>
        </div>

        <div class="form-group half-width">
          <label for="duration">Estimated Duration</label>
          <input id="duration" type="number" formControlName="duration" placeholder="Hours" class="form-control">
          <small *ngIf="taskForm.get('duration')?.touched && taskForm.get('duration')?.invalid" class="error">
            Duration is required and must be â‰¥ 0
          </small>
        </div>
      </div>

      <!-- Project & Technology Dropdowns -->
      <div class="form-row">
        <div class="form-group half-width">
          <label for="project">Project</label>
          <select id="project" formControlName="project" class="form-control">
            <option value="" disabled>Select Project</option>
            <option *ngFor="let project of projects" [value]="project.id">{{ project.name }}</option>
          </select>
          <small *ngIf="taskForm.get('project')?.touched && taskForm.get('project')?.invalid" class="error">
            Please select a project
          </small>
        </div>

        <div class="form-group half-width">
          <label for="technology">Technology</label>
          <select id="technology" formControlName="technology" class="form-control">
            <option value="" disabled>Select Technology</option>
            <option *ngFor="let tech of technologies" [value]="tech.id">{{ tech.name }}</option>
          </select>
          <small *ngIf="taskForm.get('technology')?.touched && taskForm.get('technology')?.invalid" class="error">
            Please select a technology
          </small>
        </div>
      </div>

      <!-- Milestone Checkbox -->
      <div class="form-group checkbox-group">
        <label class="checkbox-container">
          <input type="checkbox" formControlName="isMilestone">
          <span class="checkbox-label">Mark as milestone</span>
        </label>
      </div>

      <!-- Buttons -->
      <div class="button-group">
        <button type="button" class="btn btn-cancel" (click)="onCancel()">Cancel</button>
        <button type="submit" class="btn btn-submit">Create Task</button>
      </div>

    </form>
  </main>
</div>
